{"version":3,"file":"SlimAccountGroupSelect.js","names":["_react","_interopRequireDefault","require","_slimstyles","_finhelper","_selectSlimContainerStyle","_AccountGroupSelect2","_jsxRuntime","e","__esModule","_classCallCheck","a","n","TypeError","_defineProperties","r","t","length","o","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","create","value","_setPrototypeOf","SlimAccountGroupSelect","exports","_AccountGroupSelect","arguments","render","_this","_this$props","props","items","handle","selected","showDefault","focus","state","hasError","border","jsxs","Container","size","className","style","children","InputWrapper","select","ref","wrapperRef","jsx","Selected","id","onClick","handleShowSelect","renderSelected","Select","Item","map","item","name","bank_text","shortName","slice","accounts","HeaderItem","subItem","sign","CurrencyConstants","getCurrencySignById","currency_id","sum","Money","format","subAccountName","SubItem","accountAddAvailable","Add","handleAddAccount","renderPlaceholder","src","getArrow","renderTooltipError","renderCreateComponent","AccountGroupSelect","_default"],"sources":["../../../src/FormDeprecated/AccountGroupSelect/SlimAccountGroupSelect.jsx"],"sourcesContent":["import React from 'react';\r\nimport {Add, HeaderItem, InputWrapper, Item, Select as StyledSelect, Selected, SubItem} from './slimstyles';\r\nimport {CurrencyConstants, Money} from \"finhelper\";\r\nimport {Container} from '../styles/selectSlimContainerStyle';\r\nimport {AccountGroupSelect} from './AccountGroupSelect';\r\n\r\nclass SlimAccountGroupSelect extends AccountGroupSelect {\r\n  render() {\r\n    const { items, handle, selected, showDefault } = this.props;\r\n\r\n    let focus = this.state.hasError ? { border: '1px solid #EF5E70' } : {};\r\n\r\n    return (\r\n      <Container size={this.props.size} className={this.props.className} style={this.props.style}>\r\n        <InputWrapper\r\n          className={'wrapper ' + (this.state.select ? 'select' : '')}\r\n          style={focus}\r\n          ref={this.wrapperRef}\r\n        >\r\n          <Selected\r\n            id={this.props.id}\r\n            className=\"selected\"\r\n            onClick={() => {\r\n              this.handleShowSelect(true);\r\n            }}\r\n          >\r\n            <span>{this.renderSelected()}</span>\r\n          </Selected>\r\n          <StyledSelect\r\n            id={this.props.id + '-select'}\r\n            className={this.props.className + ' select'}\r\n            select={this.state.select}\r\n          >\r\n            {showDefault && (\r\n              <Item\r\n                key={'default'}\r\n                className=\"item\"\r\n                onClick={() => {\r\n                  handle(null);\r\n                  this.handleShowSelect(false);\r\n                }}\r\n              >\r\n                <span>{this.props.default}</span>\r\n              </Item>\r\n            )}\r\n            {items.map((item) => {\r\n              let name = item.name || item.bank_text || 'Счёт без названия';\r\n              let shortName = name.length > 38 ? name.slice(0, 39) + '...' : name;\r\n\r\n              return (\r\n                item.accounts.length > 0 && (\r\n                  <HeaderItem key={item.id} className=\"item\">\r\n                    <span>{shortName}</span>\r\n\r\n                    {item.accounts.map((subItem) => {\r\n                      let sign = CurrencyConstants.getCurrencySignById(subItem.currency_id);\r\n                      let sum = Money.format(subItem.sum) + ' ' + sign;\r\n                      let subAccountName = subItem.name || 'Счёт без названия';\r\n\r\n                      return (\r\n                        <SubItem\r\n                          key={subItem.id}\r\n                          className=\"subitem\"\r\n                          id={this.props.id + '-' + subItem.id}\r\n                          onClick={() => {\r\n                            handle(subItem);\r\n                            this.handleShowSelect(false);\r\n                          }}\r\n                        >\r\n                          <span>\r\n                            {subAccountName} - {sum}\r\n                          </span>\r\n                        </SubItem>\r\n                      );\r\n                    })}\r\n                  </HeaderItem>\r\n                )\r\n              );\r\n            })}\r\n            {this.props.accountAddAvailable && (\r\n              <Add key={'add'} className=\"add\" onClick={() => this.handleAddAccount()}>\r\n                <span>Добавить счёт</span>\r\n              </Add>\r\n            )}\r\n          </StyledSelect>\r\n          {this.renderPlaceholder()}\r\n          <img\r\n            className=\"arrow\"\r\n            src={this.getArrow()}\r\n            onClick={() => {\r\n              this.handleShowSelect(true);\r\n            }}\r\n          />\r\n          {this.renderTooltipError()}\r\n        </InputWrapper>\r\n        {this.renderCreateComponent()}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport { SlimAccountGroupSelect };\r\n\r\nexport default SlimAccountGroupSelect;\r\n"],"mappings":"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","ignoreList":[]}