{"version":3,"file":"RemoteSearch.js","names":["_react","_interopRequireWildcard","require","_BaseSearch2","_interopRequireDefault","_newstyles","_newstyles2","_Search","_loader","_jsxRuntime","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_classCallCheck","TypeError","_defineProperties","length","o","enumerable","configurable","writable","_toPropertyKey","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","_inherits","create","value","_setPrototypeOf","RemoteSearch","_BaseSearch","props","_this","state","error","select","focused","hasError","search","wrapperRef","createRef","handleClickOutside","handleArrows","_this2","handleArrow","Search","func","event","_this2$props","items","selected","handle","resItems","filter","item","parts","split","partsLength","partsFound","_item$name","replace","name","toLowerCase","indexOf","id","hovered","setState","next","prev","handleShowSelect","stopHandleArrows","preventDefault","window","addEventListener","bool","_this3","onSearch","onKeyPress","removeEventListener","render","_this4","_this$props","loading","_item$name2","map","jsx","Item","className","onClick","stopPropagation","children","type_id","Container","dataid","style","getContainerStyle","disabled","InputWrapper","getWrapperClasses","ref","jsxs","InputContainer","Input","JSON","stringify","autoComplete","type","getName","placeholder","onChange","target","onFocus","renderPlaceholder","Select","renderTooltipError","Loader","ReactComponent","BaseSearch","_default","exports"],"sources":["../../../src/FormDeprecated/Search/RemoteSearch.jsx"],"sourcesContent":["import React, {createRef} from 'react';\r\nimport BaseSearch from '../BaseSearch';\r\nimport {Container, Input as StyledInput, InputContainer, InputWrapper, Item, Select as StyledSelect} from './newstyles'\r\nimport {Loader} from '../newstyles'\r\nimport Search from \"./Search\";\r\nimport {ReactComponent as LoadImage} from '../../assets/loader.svg';\r\n\r\n\r\nclass RemoteSearch extends BaseSearch\r\n{\r\n  constructor(props)\r\n  {\r\n    super(props);\r\n\r\n    this.state = {\r\n      error: null,\r\n      select: false,\r\n      focused: false,\r\n      hasError: false,\r\n      search: props.search ? props.search : ''\r\n    }\r\n\r\n    this.wrapperRef = createRef();\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n  }\r\n\r\n  handleArrows()\r\n  {\r\n    if(this.state.handleArrow === false)\r\n    {\r\n      Search.func = (event) =>\r\n      {\r\n        const { items, selected, search, handle } = this.props;\r\n\r\n        let resItems = items ? items\r\n          .filter((item) => {\r\n\r\n            if(search && search.length)\r\n            {\r\n              let parts = search.split(' ');\r\n              let partsLength = parts.length;\r\n              let partsFound = 0;\r\n\r\n              for(let i = 0; i < partsLength; i++)\r\n              {\r\n                if(parts[i].replace('ё', 'е').replace('й', 'и').length > 0 && item?.name?.toLowerCase().replace('ё', 'е').replace('й', 'и').indexOf(parts[i].replace('ё', 'е').replace('й', 'и')) !== -1)\r\n                {\r\n                  partsFound++;\r\n                }\r\n              }\r\n\r\n              if(partsFound > 0)\r\n              {\r\n                return true;\r\n              }else{\r\n                return false;\r\n              }\r\n\r\n            }else{\r\n              return true;\r\n            }\r\n          })\r\n          .filter((item) => {\r\n            if(selected)\r\n            {\r\n              if(selected.id === item.id)\r\n              {\r\n                return  false;\r\n              }\r\n            }\r\n            return  true;\r\n          }) : [];\r\n\r\n        // if (eventPrevented)\r\n        // {\r\n        //   return; // Do nothing if the event was already processed\r\n        // }\r\n\r\n        switch (event.key)\r\n        {\r\n          case \"Down\": // IE/Edge specific value\r\n          case \"ArrowDown\":\r\n            if(this.state.hovered === false)\r\n            {\r\n              this.setState({\r\n                hovered: 0\r\n              });\r\n            }else{\r\n              let length = resItems.length;\r\n              let next = this.state.hovered + 1;\r\n\r\n              if(next <= (length - 1))\r\n              {\r\n                this.setState({\r\n                  hovered: next\r\n                });\r\n              }\r\n            }\r\n\r\n            // Do something for \"down arrow\" key press.\r\n            break;\r\n          case \"Up\": // IE/Edge specific value\r\n          case \"ArrowUp\":\r\n            let prev = this.state.hovered + -1;\r\n\r\n            if(prev >= 0)\r\n            {\r\n              this.setState({\r\n                hovered: prev\r\n              });\r\n            }\r\n            break;\r\n          case \"Enter\":\r\n            if(this.state.hovered !== false)\r\n            {\r\n              let item = resItems[this.state.hovered];\r\n\r\n              handle(item);\r\n              this.handleShowSelect(false);\r\n              this.stopHandleArrows();\r\n              this.setState({\r\n                search: item.name,\r\n                selected: item\r\n              });\r\n            }\r\n\r\n\r\n            event.preventDefault();\r\n            break;\r\n          default:\r\n            return; // Quit when this doesn't handle the key event.\r\n        }\r\n      }\r\n\r\n      window.addEventListener(\"keydown\", Search.func, true);\r\n\r\n      this.setState({\r\n        handleArrow: true\r\n      });\r\n    }\r\n  }\r\n\r\n  handleShowSelect(bool)\r\n  {\r\n    this.setState({\r\n      select: bool,\r\n      focused: bool\r\n    }, () => {\r\n      if(this.state.select)\r\n      {\r\n        this.handleArrows();\r\n      }else{\r\n        this.stopHandleArrows();\r\n      }\r\n    });\r\n  }\r\n\r\n  onSearch(search)\r\n  {\r\n    if(typeof this.props.onSearch === 'function')\r\n    {\r\n      this.props.onSearch(search);\r\n    }\r\n  }\r\n\r\n\r\n  onKeyPress(e)\r\n  {\r\n    if (typeof this.props.onKeyPress === 'function')\r\n    {\r\n      this.props.onKeyPress(e);\r\n    }\r\n  }\r\n\r\n  stopHandleArrows()\r\n  {\r\n    window.removeEventListener('keydown', Search.func, true);\r\n\r\n    this.setState({\r\n      handleArrow: false\r\n    });\r\n  }\r\n\r\n  render()\r\n  {\r\n    const { items, handle, name, loading, selected} = this.props;\r\n\r\n    let search = this.state.search ? this.state.search.toLowerCase() : '';\r\n\r\n    let resItems = items ? items\r\n      .filter((item) => {\r\n        if(search && search.length)\r\n        {\r\n          let parts = search.split(' ');\r\n          let partsLength = parts.length;\r\n          let partsFound = 0;\r\n\r\n          for(let i = 0; i < partsLength; i++)\r\n          {\r\n            if(parts[i].replace('ё', 'е').replace('й', 'и').length > 0 && item?.name?.toLowerCase().replace('ё', 'е').replace('й', 'и').indexOf(parts[i].replace('ё', 'е').replace('й', 'и')) !== -1)\r\n            {\r\n              partsFound++;\r\n            }\r\n          }\r\n\r\n          if(partsFound > 0)\r\n          {\r\n            return true;\r\n          }else{\r\n            return false;\r\n          }\r\n\r\n        }else{\r\n          return true;\r\n        }\r\n      })\r\n      // .filter((item) => {\r\n      //   if(selected)\r\n      //   {\r\n      //     if(selected.id === item.id)\r\n      //     {\r\n      //       return  false;\r\n      //     }\r\n      //   }\r\n      //   return  true;\r\n      // })\r\n      .map((item, key) => {\r\n        return <Item key={item.id + (item.type_id ? item.type_id : '')} className={this.props.className + ' item ' + (this.state.hovered === key ? 'hovered' : '')} id={this.props.id + '-' + item.id} onClick={(e) => {\r\n          e.stopPropagation();\r\n\r\n          handle(item);\r\n          this.handleShowSelect(false);\r\n          this.stopHandleArrows();\r\n          this.setState({\r\n            search: item.name,\r\n            selected: item\r\n          });\r\n        }}>\r\n          <span>{item.name}</span>\r\n        </Item>\r\n      }) : [];\r\n\r\n    return <Container dataid='remote-search' style={this.getContainerStyle()} className={this.props.className + (this.props.disabled ? ' disabled' : '')}>\r\n      <InputWrapper className={this.getWrapperClasses(resItems)} ref={this.wrapperRef}>\r\n        <InputContainer>\r\n          <StyledInput\r\n            selected={selected ? JSON.stringify(selected) : ''}\r\n            id={this.props.id}\r\n            autoComplete={'off'}\r\n            disabled={this.props.disabled}\r\n            style={this.props.style}\r\n            className={this.props.className}\r\n            type={this.props.type}\r\n            name={this.getName(name)}\r\n            value={this.state.search}\r\n            placeholder={this.props.placeholder}\r\n            onClick={() =>\r\n            {\r\n              this.handleShowSelect(true)\r\n            }}\r\n            onKeyPress={(e) =>\r\n            {\r\n              this.onKeyPress(e);\r\n            }}\r\n            onChange={(e) => {\r\n              this.setState({\r\n                search: e.target.value,\r\n                hasError: false\r\n              },() => {\r\n                this.onSearch(this.state.search);\r\n              });\r\n            }}\r\n            onFocus={() => {\r\n              this.setState({\r\n                focused: true,\r\n                hasError: false\r\n              })\r\n            }}\r\n          />\r\n          {this.renderPlaceholder()}\r\n          <StyledSelect id={this.props.id + '-select'} className={this.props.className + ' select'} select={this.state.select || this.state.focused}>\r\n            {resItems.length ? resItems : (loading || selected ? '' : <Item className={this.props.className}><span>{typeof this.state.search === 'string' && this.state.search.length > 0 ? 'Ничего не найдено' : 'Ввидете запрос'}</span></Item>)}\r\n          </StyledSelect>\r\n          {this.renderTooltipError()}\r\n          {loading && <Loader id='loader-for-data'>\r\n            <div onClick={() => {}}>\r\n              <LoadImage/>\r\n            </div>\r\n          </Loader>}\r\n        </InputContainer>\r\n      </InputWrapper>\r\n    </Container>\r\n  }\r\n}\r\n\r\n\r\nexport default RemoteSearch\r\n"],"mappings":"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","ignoreList":[]}