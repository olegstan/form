{"version":3,"file":"FileInput.js","names":["_react","_interopRequireWildcard","require","_useBaseInput2","_interopRequireDefault","_styles","_jsxRuntime","e","__esModule","t","WeakMap","r","n","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","FileInput","_ref","_ref$focused","focused","_ref$setFocused","setFocused","_ref$onBlur","onBlur","_ref$onChange","onChange","_ref$onClick","onClick","_ref$disabled","disabled","_ref$className","className","_ref$style","style","id","name","_ref$valueText","valueText","error","inputRef","useRef","_useBaseInput","useBaseInput","getName","useEffect","current","file","File","type","lastModified","Date","dataTransfer","DataTransfer","items","add","files","handleFileChange","target","reader","FileReader","onloadend","base64String","result","size","content","readAsDataURL","inputClassName","concat","jsx","StyledInput","ref","displayName","_default","exports"],"sources":["../../src/Form/FileInput.tsx"],"sourcesContent":["import React, {useEffect, useRef} from 'react';\r\n//@ts-ignore\r\nimport useBaseInput from './hooks/useBaseInput';\r\n//@ts-ignore\r\nimport {StyledInput} from './styles';\r\nimport FileInputProps from \"./types/FileInputProps\";\r\n\r\nconst FileInput: React.FC<FileInputProps> = ({\r\n                       focused = false,\r\n                       setFocused = () => {},\r\n                       onBlur = () => {},\r\n                       onChange = () => {},\r\n                       onClick = () => {},\r\n                       disabled = false,\r\n                       className = '',\r\n                       style = {},\r\n                       id,\r\n                       name,\r\n                       valueText = '',\r\n                       error\r\n                   }) => {\r\n\r\n    const inputRef = useRef(null);\r\n\r\n    const {\r\n        getName,\r\n    } = useBaseInput({\r\n        disabled,\r\n        name,\r\n        onClick,\r\n        onChange,\r\n        setFocused,\r\n        onBlur\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (inputRef.current) {\r\n            const file = new File([], valueText, {\r\n                type: 'text/plain',\r\n                // @ts-ignore\r\n                lastModified: new Date(),\r\n            });\r\n\r\n            const dataTransfer = new DataTransfer();\r\n            dataTransfer.items.add(file);\r\n            // @ts-ignore\r\n            inputRef.current.files = dataTransfer.files;\r\n        }\r\n    }, []);\r\n\r\n    const handleFileChange = (e: any) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                const base64String = reader.result;\r\n\r\n                onChange({\r\n                    size: file.size,\r\n                    name: file.name,\r\n                    content: base64String,\r\n                });\r\n            };\r\n            reader.readAsDataURL(file);\r\n        }\r\n    };\r\n\r\n    // @ts-ignore\r\n    const inputClassName = `${className}${error?.[0] ? ' error' : ''}`;\r\n\r\n\r\n    return <StyledInput\r\n            ref={inputRef}\r\n            id={id}\r\n            style={style}\r\n            disabled={disabled}\r\n            className={inputClassName}\r\n            type=\"file\"\r\n            name={getName(name)}\r\n            onChange={handleFileChange}\r\n        />;\r\n};\r\n\r\nFileInput.displayName = 'FileInput';\r\n\r\nexport default FileInput;\r\n"],"mappings":"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","ignoreList":[]}