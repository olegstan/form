{"version":3,"file":"GroupResults.js","names":["_react","_interopRequireWildcard","require","_Item","_interopRequireDefault","_styles","_GroupItem","_ic_seach","_jsxRuntime","e","__esModule","t","WeakMap","r","n","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","iterator","u","next","done","isArray","GroupResults","_ref","id","options","handleClick","className","idPrefix","active","addButton","_ref$searchable","searchable","_useState","useState","_useState2","searchQuery","setSearchQuery","filterOptions","query","trim","lowerQuery","toLowerCase","map","option","_option$name","children","filteredChildren","child","_child$name","includes","Boolean","displayOptions","jsx","ParentContainer","jsxs","OptionsWrapper","concat","undefined","hasAddButton","SearchInputWrapper","src","SearchIcon","alt","SearchInput","type","placeholder","onChange","target","item","key","_option$innerId","onClick","innerId","_default","exports"],"sources":["../../../../src/Form/Dropdown/components/GroupResults.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Item from './Item';\r\n//@ts-ignore\r\nimport {OptionsWrapper, ParentContainer, SearchInput, SearchInputWrapper} from \"./styles\";\r\nimport GroupItem from \"./GroupItem\";\r\n//@ts-ignore\r\nimport SearchIcon from './../../../assets/ic_seach.svg';\r\n\r\nconst GroupResults = ({\r\n                          id,\r\n                          options,\r\n                          handleClick,\r\n                          className,\r\n                          idPrefix,\r\n                          active,\r\n                          addButton,\r\n                          searchable = false\r\n                      }: {\r\n    options: any[],\r\n    handleClick: (event: React.MouseEvent<HTMLInputElement>, option: any) => void,\r\n    className?: string,\r\n    id?: string,\r\n    idPrefix?: string,\r\n    active?: boolean,\r\n    addButton?: any,\r\n    searchable?: boolean,\r\n}) => {\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n\r\n    const filterOptions = (options: any[], query: string): any[] => {\r\n        if (!query.trim()) return options;\r\n\r\n        const lowerQuery = query.toLowerCase();\r\n\r\n        return options.map(option => {\r\n            // Если у опции есть children, фильтруем их\r\n            if (option.children && option.children.length > 0) {\r\n                const filteredChildren = option.children.filter((child: any) =>\r\n                    child.name?.toLowerCase().includes(lowerQuery)\r\n                );\r\n\r\n                // Если есть подходящие дочерние элементы, возвращаем родителя с отфильтрованными детьми\r\n                if (filteredChildren.length > 0) {\r\n                    return {\r\n                        ...option,\r\n                        children: filteredChildren\r\n                    };\r\n                }\r\n            }\r\n\r\n            // Проверяем сам элемент\r\n            if (option.name?.toLowerCase().includes(lowerQuery)) {\r\n                return option;\r\n            }\r\n\r\n            return null;\r\n        }).filter(Boolean);\r\n    };\r\n\r\n    const displayOptions = searchable ? filterOptions(options, searchQuery) : options;\r\n\r\n    return (\r\n        <ParentContainer>\r\n            <OptionsWrapper\r\n                active={active ?? false}\r\n                id={id ? `${id}-select` : undefined}\r\n                className={className}\r\n                hasAddButton={!!addButton}\r\n            >\r\n                {active && addButton}\r\n                {active && searchable && (\r\n                    <SearchInputWrapper>\r\n                        <img src={SearchIcon} alt=\"Search\" />\r\n                        <SearchInput\r\n                            type=\"text\"\r\n                            placeholder=\"Поиск\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                        />\r\n                    </SearchInputWrapper>\r\n                )}\r\n                {displayOptions.length === 0 ? (\r\n                    <Item\r\n                        key={'none'}\r\n                        item={{id: null, name: searchable && searchQuery ? 'Ничего не найдено' : 'Нет элементов'}}\r\n                        className={className}\r\n                        id={`${idPrefix}-none`}\r\n                    />\r\n                ) : (\r\n                    displayOptions.map((option: any, key: number) => (\r\n                        <GroupItem\r\n                            key={option.innerId ?? option.id}\r\n                            item={option}\r\n                            onClick={handleClick}\r\n                            className={className}\r\n                            id={`${idPrefix}-${option.id}`}\r\n                        />\r\n                    ))\r\n                )}\r\n            </OptionsWrapper>\r\n        </ParentContainer>\r\n    );\r\n};\r\n\r\nexport default GroupResults;"],"mappings":"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","ignoreList":[]}