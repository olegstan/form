{"version":3,"file":"TextArea.js","names":["_react","_interopRequireWildcard","require","_useBaseInput2","_interopRequireDefault","_styles","_useInputClassNames","_jsxRuntime","e","__esModule","t","WeakMap","r","n","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Symbol","iterator","constructor","prototype","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","toPrimitive","TypeError","String","Number","TextArea","_ref","_ref$focused","focused","_ref$setFocused","setFocused","_ref$onKeyDown","onKeyDown","_ref$onBlur","onBlur","_ref$onChange","onChange","_ref$onClick","onClick","_ref$disabled","disabled","_ref$className","className","_ref$style","style","id","name","error","_ref$rows","rows","_ref$autoResize","autoResize","_ref$disableResize","disableResize","textAreaRef","useRef","_useBaseInput","useBaseInput","handleClick","handleChange","handleFocus","handleBlur","getName","adjustHeight","textArea","current","height","concat","scrollHeight","handleInternalChange","useEffect","inputClassName","useInputClassNames","mergedStyle","resize","jsx","StyledTextArea","ref","onFocus","undefined","displayName","_default","exports"],"sources":["../../../src/Form/TextInput/TextArea.tsx"],"sourcesContent":["// TextArea.js\r\nimport React, {useEffect, useRef} from 'react';\r\n//@ts-ignore\r\nimport useBaseInput from '../hooks/useBaseInput';\r\n//@ts-ignore\r\nimport {StyledTextArea} from '../styles';\r\nimport TextAreaProps from \"../types/TextAreaProps\";\r\nimport useInputClassNames from \"../hooks/useInputClassNames\";\r\n\r\n/**\r\n *\r\n * @param focused\r\n * @param setFocused\r\n * @param onKeyDown\r\n * @param onBlur\r\n * @param onChange\r\n * @param onClick\r\n * @param disabled\r\n * @param className\r\n * @param style\r\n * @param id\r\n * @param name\r\n * @param value\r\n * @param error\r\n * @param rows\r\n * @param autoResize\r\n * @param disableResize\r\n * @constructor\r\n */\r\nconst TextArea: React.FC<TextAreaProps> = ({\r\n                                               focused = false,\r\n                                               setFocused = () => {},\r\n                                               onKeyDown = () => {},\r\n                                               onBlur = () => {},\r\n                                               onChange = () => {},\r\n                                               onClick = () => {},\r\n                                               disabled = false,\r\n                                               className = '',\r\n                                               style = {},\r\n                                               id,\r\n                                               name,\r\n                                               value,\r\n                                               error,\r\n                                               rows = 3,\r\n                                               autoResize = true,\r\n                                               disableResize = false,\r\n                                           }) => {\r\n    const textAreaRef = useRef<HTMLTextAreaElement|null>(null);\r\n\r\n    const {\r\n        handleClick,\r\n        handleChange,\r\n        handleFocus,\r\n        handleBlur,\r\n        getName,\r\n    } = useBaseInput({\r\n        disabled,\r\n        name,\r\n        onClick,\r\n        onChange,\r\n        setFocused,\r\n        onBlur\r\n    });\r\n\r\n    // Функция для корректировки высоты textarea\r\n    const adjustHeight = () => {\r\n        if (!autoResize) return;\r\n        const textArea = textAreaRef.current;\r\n        if (textArea) {\r\n            // Сбрасываем высоту, чтобы правильно вычислить scrollHeight\r\n            textArea.style.height = 'auto';\r\n            textArea.style.height = `${textArea.scrollHeight}px`;\r\n        }\r\n    };\r\n\r\n    // Оборачиваем handleChange, чтобы после изменения значения корректировать высоту\r\n    const handleInternalChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n        handleChange(e);\r\n        adjustHeight();\r\n    };\r\n\r\n    // Корректируем высоту при изменении value или параметра autoResize\r\n    useEffect(() => {\r\n        adjustHeight();\r\n    }, [value, autoResize]);\r\n\r\n    const inputClassName = useInputClassNames(className, focused, error, disabled);\r\n\r\n    // Объединяем стиль из пропсов с условием отключения ресайза\r\n    const mergedStyle: React.CSSProperties = {\r\n        ...style,\r\n        ...(disableResize ? { resize: 'none' } : {}),\r\n    };\r\n\r\n    return (\r\n        <StyledTextArea\r\n            ref={textAreaRef}\r\n            id={id}\r\n            style={mergedStyle}\r\n            disabled={disabled}\r\n            className={inputClassName}\r\n            name={getName(name)}\r\n            onClick={handleClick}\r\n            onKeyDown={onKeyDown}\r\n            onChange={handleInternalChange}\r\n            onFocus={handleFocus}\r\n            onBlur={handleBlur}\r\n            rows={rows}\r\n            value={value === undefined || value === null ? '' : String(value)}\r\n        />\r\n    );\r\n};\r\n\r\nTextArea.displayName = 'TextArea';\r\n\r\nexport default TextArea;\r\n"],"mappings":"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","ignoreList":[]}