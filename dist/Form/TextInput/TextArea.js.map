{"version":3,"file":"TextArea.js","names":["_react","_interopRequireWildcard","require","_useBaseInput2","_interopRequireDefault","_styles","_useInputClassNames","_jsxRuntime","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","o","Symbol","iterator","constructor","prototype","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","toPrimitive","TypeError","String","Number","TextArea","_ref","_ref$focused","focused","_ref$setFocused","setFocused","_ref$onKeyDown","onKeyDown","_ref$onBlur","onBlur","_ref$onChange","onChange","_ref$onClick","onClick","_ref$disabled","disabled","_ref$className","className","_ref$style","style","id","name","error","_ref$rows","rows","_ref$autoResize","autoResize","_ref$disableResize","disableResize","textAreaRef","useRef","_useBaseInput","useBaseInput","handleClick","handleChange","handleFocus","handleBlur","getName","adjustHeight","textArea","current","height","concat","scrollHeight","handleInternalChange","useEffect","inputClassName","useInputClassNames","mergedStyle","resize","jsx","StyledTextArea","ref","onFocus","undefined","displayName","_default","exports"],"sources":["../../../src/Form/TextInput/TextArea.tsx"],"sourcesContent":["// TextArea.js\r\nimport React, {useEffect, useRef} from 'react';\r\n//@ts-ignore\r\nimport useBaseInput from '../hooks/useBaseInput';\r\n//@ts-ignore\r\nimport {StyledTextArea} from '../styles';\r\nimport TextAreaProps from \"../types/TextAreaProps\";\r\nimport useInputClassNames from \"../hooks/useInputClassNames\";\r\n\r\n/**\r\n *\r\n * @param focused\r\n * @param setFocused\r\n * @param onKeyDown\r\n * @param onBlur\r\n * @param onChange\r\n * @param onClick\r\n * @param disabled\r\n * @param className\r\n * @param style\r\n * @param id\r\n * @param name\r\n * @param value\r\n * @param error\r\n * @param rows\r\n * @param autoResize\r\n * @param disableResize\r\n * @constructor\r\n */\r\nconst TextArea: React.FC<TextAreaProps> = ({\r\n                                               focused = false,\r\n                                               setFocused = () => {},\r\n                                               onKeyDown = () => {},\r\n                                               onBlur = () => {},\r\n                                               onChange = () => {},\r\n                                               onClick = () => {},\r\n                                               disabled = false,\r\n                                               className = '',\r\n                                               style = {},\r\n                                               id,\r\n                                               name,\r\n                                               value,\r\n                                               error,\r\n                                               rows = 3,\r\n                                               autoResize = true,\r\n                                               disableResize = false,\r\n                                           }) => {\r\n    const textAreaRef = useRef<HTMLTextAreaElement|null>(null);\r\n\r\n    const {\r\n        handleClick,\r\n        handleChange,\r\n        handleFocus,\r\n        handleBlur,\r\n        getName,\r\n    } = useBaseInput({\r\n        disabled,\r\n        name,\r\n        onClick,\r\n        onChange,\r\n        setFocused,\r\n        onBlur\r\n    });\r\n\r\n    // Функция для корректировки высоты textarea\r\n    const adjustHeight = () => {\r\n        if (!autoResize) return;\r\n        const textArea = textAreaRef.current;\r\n        if (textArea) {\r\n            // Сбрасываем высоту, чтобы правильно вычислить scrollHeight\r\n            textArea.style.height = 'auto';\r\n            textArea.style.height = `${textArea.scrollHeight}px`;\r\n        }\r\n    };\r\n\r\n    // Оборачиваем handleChange, чтобы после изменения значения корректировать высоту\r\n    const handleInternalChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n        handleChange(e);\r\n        adjustHeight();\r\n    };\r\n\r\n    // Корректируем высоту при изменении value или параметра autoResize\r\n    useEffect(() => {\r\n        adjustHeight();\r\n    }, [value, autoResize]);\r\n\r\n    const inputClassName = useInputClassNames(className, focused, error, disabled);\r\n\r\n    // Объединяем стиль из пропсов с условием отключения ресайза\r\n    const mergedStyle: React.CSSProperties = {\r\n        ...style,\r\n        ...(disableResize ? { resize: 'none' } : {}),\r\n    };\r\n\r\n    return (\r\n        <StyledTextArea\r\n            ref={textAreaRef}\r\n            id={id}\r\n            style={mergedStyle}\r\n            disabled={disabled}\r\n            className={inputClassName}\r\n            name={getName(name)}\r\n            onClick={handleClick}\r\n            onKeyDown={onKeyDown}\r\n            onChange={handleInternalChange}\r\n            onFocus={handleFocus}\r\n            onBlur={handleBlur}\r\n            rows={rows}\r\n            value={value === undefined || value === null ? '' : String(value)}\r\n        />\r\n    );\r\n};\r\n\r\nTextArea.displayName = 'TextArea';\r\n\r\nexport default TextArea;\r\n"],"mappings":"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","ignoreList":[]}