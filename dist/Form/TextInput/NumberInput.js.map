{"version":3,"file":"NumberInput.js","names":["_react","_interopRequireWildcard","require","_useBaseInput2","_interopRequireDefault","_styles","_useInputClassNames","_formatNumber","_jsxRuntime","e","__esModule","t","WeakMap","r","n","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","u","next","done","push","value","isArray","NumberInput","_ref","_ref$focused","focused","_ref$setFocused","setFocused","_ref$onKeyDown","onKeyDown","_ref$onBlur","onBlur","_ref$innerError","innerError","_ref$setInnerError","setInnerError","_ref$onChange","onChange","_ref$onClick","onClick","_ref$disabled","disabled","_ref$className","className","_ref$style","style","id","_ref$autoComplete","autoComplete","error","_ref$max","max","_ref$min","min","_ref$decimals","decimals","_useState","useState","_useState2","cursorPosition","setCursorPosition","inputRef","useRef","_useBaseInput","useBaseInput","handleClick","handleFocus","handleBlur","getName","useEffect","current","setSelectionRange","normalizeInput","useCallback","input","replace","isValidNumber","numStr","console","log","num","parseFloat","isNaN","undefined","handleDecimalPart","wholePart","decimalPart","formatForInput","calculateCursorPosition","oldValue","newValue","currentPosition","_oldParts$","_newParts$","oldParts","split","newParts","oldWholeLength","newWholeLength","handleChange","inputValue","target","currentCursorPosition","selectionStart","allowedPattern","normalizedValue","isNegative","startsWith","numberPart","parts","formattedValue","finalValue","newCursorPosition","inputClassName","useInputClassNames","jsx","StyledInput","ref","String","onFocus","displayName","_default","exports"],"sources":["../../../src/Form/TextInput/NumberInput.tsx"],"sourcesContent":["// NumberInput.js\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport useBaseInput from '../hooks/useBaseInput';\r\nimport { StyledInput } from '../styles';\r\nimport NumberInputProps from \"../types/NumberInputProps\";\r\nimport useInputClassNames from \"../hooks/useInputClassNames\";\r\nimport { formatForInput } from \"./utils/formatNumber\";\r\n\r\nconst NumberInput: React.FC<NumberInputProps> = ({\r\n                                                     focused = false,\r\n                                                     setFocused = () => {},\r\n                                                     onKeyDown = () => {},\r\n                                                     onBlur = () => {},\r\n                                                     innerError = [],//метод чтобьы показывать ошибку, если ввели неверный формат даты\r\n                                                     setInnerError = () => {},//метод чтобьы показывать ошибку, если ввели неверный формат даты\r\n                                                     onChange = () => {},\r\n                                                     onClick = () => {},\r\n                                                     disabled = false,\r\n                                                     className = '',\r\n                                                     style = {},\r\n                                                     id,\r\n                                                     name,\r\n                                                     value,\r\n                                                     autoComplete = 'off',\r\n                                                     error,\r\n                                                     max = false,\r\n                                                     min = false,\r\n                                                     decimals = false,\r\n                                                 }) => {\r\n\r\n    // Состояние для отслеживания позиции курсора\r\n    const [cursorPosition, setCursorPosition] = useState<number>(0);\r\n    const inputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n    const {\r\n        handleClick,\r\n        handleFocus,\r\n        handleBlur,\r\n        getName,\r\n    } = useBaseInput({\r\n        disabled,\r\n        name,\r\n        onClick,\r\n        onChange,\r\n        setFocused,\r\n        onBlur\r\n    });\r\n\r\n    // Восстанавливаем позицию курсора после изменения значения\r\n    useEffect(() => {\r\n        if (focused && inputRef.current) {\r\n            inputRef.current.setSelectionRange(cursorPosition, cursorPosition);\r\n        }\r\n    }, [value, cursorPosition, focused]);\r\n\r\n    // Нормализация входной строки - приводим к единому формату\r\n    const normalizeInput = useCallback((input: string): string => {\r\n        // Заменяем запятые на точки и убираем пробелы\r\n        return input.replace(/,/g, '.').replace(/\\s/g, '');\r\n    }, []);\r\n\r\n    // Проверка валидности числа\r\n    const isValidNumber = useCallback((numStr: string): boolean => {\r\n        console.log(min)\r\n        console.log(max)\r\n\r\n        if (numStr === '' || numStr === '-'){\r\n            setInnerError(null);\r\n            return true;\r\n        }\r\n\r\n        const num = parseFloat(numStr);\r\n        if (isNaN(num)){\r\n            setInnerError(null);\r\n            return false;\r\n        }\r\n\r\n        // Исправленные проверки\r\n        if(max !== false && max !== null && max !== undefined && num > max) {\r\n            setInnerError(['Ошибка, максимальное значение: ' + max]);\r\n        } else if(min !== false && min !== null && min !== undefined && num < min) {\r\n            setInnerError(['Ошибка, минимальное значение: ' + min]);\r\n        } else {\r\n            setInnerError(null);\r\n        }\r\n\r\n        // Специальная проверка для min = 0\r\n        if (min === 0 && isNaN(num)) return false;\r\n\r\n        return true;\r\n    }, [max, min]);\r\n\r\n    // Обработка дробной части\r\n    const handleDecimalPart = useCallback((wholePart: string, decimalPart: string): string => {\r\n        if (decimalPart === undefined) {\r\n            // Нет дробной части\r\n            return formatForInput(wholePart, 0);\r\n        }\r\n\r\n        if (decimalPart === '') {\r\n            // Есть точка, но дробная часть пустая\r\n            return formatForInput(wholePart, 0) + '.';\r\n        }\r\n\r\n        // Проверяем ограничение на количество знаков после запятой\r\n        if (decimals !== false && decimalPart.length > decimals) {\r\n            //@ts-ignore\r\n            return null; // Возвращаем null, чтобы прервать обработку\r\n        }\r\n\r\n        // Форматируем целую часть и добавляем дробную\r\n        return formatForInput(wholePart, 0) + '.' + decimalPart;\r\n    }, [decimals]);\r\n\r\n    // Вычисление новой позиции курсора\r\n    const calculateCursorPosition = useCallback((\r\n        oldValue: string,\r\n        newValue: string,\r\n        currentPosition: number\r\n    ): number => {\r\n        const oldParts = oldValue.split('.');\r\n        const newParts = newValue.split('.');\r\n\r\n        const oldWholeLength = oldParts[0]?.length || 0;\r\n        const newWholeLength = newParts[0]?.length || 0;\r\n\r\n        if (newWholeLength > oldWholeLength) {\r\n            // Добавился разделитель тысяч (каждые 3 цифры + пробел)\r\n            if ((newWholeLength - 1) % 4 === 0) {\r\n                return currentPosition + 1;\r\n            }\r\n        }\r\n\r\n        return currentPosition;\r\n    }, []);\r\n\r\n    // Основная функция обработки изменений\r\n    const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const inputValue = e.target.value;\r\n        const currentCursorPosition = e.target.selectionStart || 0;\r\n\r\n        // Проверяем, содержит ли ввод только допустимые символы\r\n        const allowedPattern = /^-?[0-9.,\\s]*$/;\r\n        if (inputValue !== '' && !allowedPattern.test(inputValue)) {\r\n            return;\r\n        }\r\n\r\n        // Нормализуем ввод\r\n        const normalizedValue = normalizeInput(inputValue);\r\n\r\n        // Обработка пустого значения\r\n        if (normalizedValue === '') {\r\n            onChange('');\r\n            setCursorPosition(currentCursorPosition);\r\n            return;\r\n        }\r\n\r\n        // Извлекаем знак и число\r\n        const isNegative = normalizedValue.startsWith('-');\r\n        const numberPart = isNegative ? normalizedValue.slice(1) : normalizedValue;\r\n\r\n        // Проверяем валидность числа\r\n        if (!isValidNumber(normalizedValue)) {\r\n            return;\r\n        }\r\n\r\n        // Разделяем на целую и дробную части\r\n        const parts = numberPart.split('.');\r\n        const wholePart = parts[0] || '';\r\n        const decimalPart = parts[1];\r\n\r\n        // Обрабатываем дробную часть\r\n        const formattedValue = handleDecimalPart(wholePart, decimalPart);\r\n        if (formattedValue === null) {\r\n            return; // Превышено количество знаков после запятой\r\n        }\r\n\r\n        // Формируем финальное значение\r\n        const finalValue = (isNegative ? '-' : '') + formattedValue;\r\n\r\n        // Вычисляем новую позицию курсора\r\n        const newCursorPosition = calculateCursorPosition(\r\n            value?.toString() || '',\r\n            finalValue,\r\n            currentCursorPosition\r\n        );\r\n\r\n        // Обновляем состояние\r\n        onChange(finalValue);\r\n        setCursorPosition(newCursorPosition);\r\n    }, [\r\n        normalizeInput,\r\n        isValidNumber,\r\n        handleDecimalPart,\r\n        calculateCursorPosition,\r\n        onChange,\r\n        value,\r\n    ]);\r\n\r\n    const inputClassName = useInputClassNames(className, focused, error, disabled, innerError);\r\n\r\n    return (\r\n        <StyledInput\r\n            ref={inputRef}\r\n            id={id}\r\n            style={style}\r\n            autoComplete={autoComplete || 'off'}\r\n            disabled={disabled}\r\n            className={inputClassName}\r\n            name={getName(name)}\r\n            value={value === undefined || value === null ? '' : String(value)}\r\n            onClick={handleClick}\r\n            onKeyDown={onKeyDown}\r\n            onChange={handleChange}\r\n            onFocus={handleFocus}\r\n            onBlur={handleBlur}\r\n        />\r\n    );\r\n};\r\n\r\nNumberInput.displayName = 'NumberInput';\r\n\r\nexport default NumberInput;"],"mappings":"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","ignoreList":[]}