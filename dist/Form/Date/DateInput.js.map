{"version":3,"file":"DateInput.js","names":["_react","_interopRequireDefault","require","_useBaseInput2","_styles","_useDateInput2","_useFlatpickrMount2","_format","_jsxRuntime","_excluded","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","_objectWithoutProperties","t","r","i","_objectWithoutPropertiesLoose","Object","getOwnPropertySymbols","n","length","indexOf","propertyIsEnumerable","call","hasOwnProperty","ownKeys","keys","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_toPrimitive","toPrimitive","TypeError","String","Number","DateInput","_ref","_ref$focused","focused","_ref$setFocused","setFocused","_ref$onBlur","onBlur","_ref$innerError","innerError","_ref$setInnerError","setInnerError","_ref$onChange","onChange","_ref$onClick","onClick","_ref$disabled","disabled","_ref$placeholder","placeholder","_ref$className","className","_ref$style","style","id","name","_ref$autoComplete","autoComplete","error","_ref$defaultDate","defaultDate","_useBaseInput","useBaseInput","handleFocus","getName","_useFlatpickrMount","useFlatpickrMount","componentsLoaded","DateInputComponent","flatpickrInstance","_useDateInput","useDateInput","dateMask","dateFormat","formatDate","date","dateString","handleDateChange","handleInputChange","handleBlur","getOptions","opts","allowInput","disableMobile","jsx","MaskedStyledInput","mask","children","inputProps","inputClassName","concat","Date","valueString","options","onReady","selectedDates","dateStr","fp","current","calendarContainer","onOpen","onClose","render","_ref2","refEl","restProps","onFocus","ref","displayName","_default","exports"],"sources":["../../../src/Form/Date/DateInput.tsx"],"sourcesContent":["import React from 'react';\r\n\r\n// @ts-ignore\r\nimport useBaseInput from '../hooks/useBaseInput';\r\n// @ts-ignore\r\nimport {MaskedStyledInput} from '../styles';\r\nimport DateInputProps from \"../types/DateInputProps\";\r\nimport {useDateInput} from \"./hooks/useDateInput\";\r\nimport {useFlatpickrMount} from \"./hooks/useFlatpickrMount\";\r\nimport {formatDate} from \"./utils/format\";\r\n\r\n\r\n\r\nconst DateInput: React.FC<DateInputProps> = ({\r\n                       focused = false,\r\n                       setFocused = () => {},\r\n                       onBlur = () => {},\r\n                       innerError = [],//метод чтобьы показывать ошибку, если ввели неверный формат даты\r\n                       setInnerError = () => {},//метод чтобьы показывать ошибку, если ввели неверный формат даты\r\n                       onChange = () => {},\r\n                       onClick = () => {},\r\n                       disabled = false,\r\n                       placeholder = '',\r\n                       className = '',\r\n                       style = {},\r\n                       id,\r\n                       name,\r\n                       value,\r\n                       autoComplete = 'off',\r\n                       error,\r\n                       defaultDate = null\r\n                   }) => {\r\n    const {\r\n        handleFocus,\r\n        getName,\r\n    } = useBaseInput({\r\n        disabled,\r\n        name,\r\n        onClick,\r\n        onChange,\r\n        setFocused,\r\n        onBlur\r\n    })\r\n\r\n    const { componentsLoaded, DateInputComponent, flatpickrInstance } = useFlatpickrMount();\r\n\r\n    const {\r\n        date,\r\n        dateString,\r\n        handleDateChange,\r\n        handleInputChange,\r\n        handleBlur\r\n    } = useDateInput({\r\n        value,\r\n        onChange,\r\n        flatpickrInstance,\r\n        setFocused,\r\n        dateMask: '__.__.____',\r\n        dateFormat: 'DD.MM.YYYY',\r\n        formatDate,\r\n        setInnerError\r\n    });\r\n\r\n\r\n    const getOptions = () => {\r\n        let opts = {\r\n            dateFormat: 'd.m.Y',\r\n            allowInput: true,\r\n            disableMobile: 'true'\r\n        };\r\n        if (defaultDate) {\r\n            // @ts-ignore\r\n            opts.defaultDate = defaultDate;\r\n        }\r\n        return opts;\r\n    };\r\n\r\n    if (!componentsLoaded || !DateInputComponent) return null;\r\n\r\n    if (disabled) {\r\n        return (\r\n            <MaskedStyledInput\r\n                mask=\"99.99.9999\"\r\n                value={dateString}\r\n                disabled\r\n                onChange={() => {}}\r\n            >\r\n                {(inputProps: any) => <input {...inputProps} />}\r\n            </MaskedStyledInput>\r\n        );\r\n    }\r\n\r\n    // @ts-ignore\r\n    const inputClassName = `input ${className}${focused ? ' focused' : ''}${error?.[0] || innerError?.[0] ? ' error' : ''}`;\r\n\r\n    return (\r\n        // @ts-ignore\r\n        <DateInputComponent\r\n            id={id}\r\n            style={style}\r\n            disabled={disabled}\r\n            value={date instanceof Date ? date : null}\r\n            valueString={dateString}\r\n            placeholder={placeholder}\r\n            autoComplete={autoComplete || 'off'}\r\n            options={getOptions()}\r\n            className={inputClassName}\r\n            onReady={(selectedDates: any, dateStr: string, fp: any) => {\r\n                flatpickrInstance.current = fp;\r\n                fp.calendarContainer.id = `${id}-container`;\r\n            }}\r\n            onChange={handleDateChange}\r\n            onOpen={handleFocus}\r\n            onClose={handleBlur}\r\n            // @ts-ignore\r\n            render={({id, ...restProps}, refEl: any) => {\r\n\r\n                return <MaskedStyledInput\r\n                    autoComplete=\"off\"\r\n                    mask=\"99.99.9999\"\r\n                    name={getName(name)}\r\n                    id={id}\r\n                    value={restProps.valueString}\r\n                    onChange={handleInputChange}\r\n                    style={restProps.style}\r\n                    className={restProps.className}\r\n                    onFocus={handleFocus}\r\n                >\r\n                    {(inputProps: any) => <input ref={refEl} {...inputProps} />}\r\n                </MaskedStyledInput>\r\n            }}\r\n        />\r\n    );\r\n}\r\n\r\nDateInput.displayName = 'DateInput';\r\nexport default DateInput;\r\n"],"mappings":"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","ignoreList":[]}