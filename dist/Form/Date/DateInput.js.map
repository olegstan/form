{"version":3,"file":"DateInput.js","names":["_react","_interopRequireDefault","require","_useBaseInput2","_styles","_useDateInput2","_useFlatpickrMount2","_format","_useInputClassNames","_jsxRuntime","_excluded","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","_objectWithoutProperties","t","r","i","_objectWithoutPropertiesLoose","Object","getOwnPropertySymbols","n","length","indexOf","propertyIsEnumerable","call","hasOwnProperty","ownKeys","keys","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_toPrimitive","toPrimitive","TypeError","String","Number","DateInput","_ref","_ref$focused","focused","_ref$setFocused","setFocused","_ref$onBlur","onBlur","_ref$innerError","innerError","_ref$setInnerError","setInnerError","_ref$onChange","onChange","_ref$onClick","onClick","_ref$disabled","disabled","_ref$placeholder","placeholder","_ref$className","className","_ref$style","style","id","name","_ref$autoComplete","autoComplete","error","_ref$defaultDate","defaultDate","_useBaseInput","useBaseInput","handleFocus","getName","_useFlatpickrMount","useFlatpickrMount","componentsLoaded","DateInputComponent","flatpickrInstance","_useDateInput","useDateInput","dateMask","dateFormat","formatDate","date","dateString","handleDateChange","handleInputChange","handleBlur","getOptions","opts","allowInput","disableMobile","inputClassName","useInputClassNames","jsx","MaskedStyledInput","mask","readOnly","children","inputProps","Date","valueString","options","onReady","selectedDates","dateStr","fp","current","calendarContainer","concat","onOpen","onClose","render","_ref2","refEl","restProps","onFocus","ref","displayName","_default","exports"],"sources":["../../../src/Form/Date/DateInput.tsx"],"sourcesContent":["import React from 'react';\r\n\r\n// @ts-ignore\r\nimport useBaseInput from '../hooks/useBaseInput';\r\n// @ts-ignore\r\nimport {MaskedStyledInput} from '../styles';\r\nimport DateInputProps from \"../types/DateInputProps\";\r\nimport {useDateInput} from \"./hooks/useDateInput\";\r\nimport {useFlatpickrMount} from \"./hooks/useFlatpickrMount\";\r\nimport {formatDate} from \"./utils/format\";\r\nimport useInputClassNames from \"../hooks/useInputClassNames\";\r\n\r\n\r\nconst DateInput: React.FC<DateInputProps> = ({\r\n                                                 focused = false,\r\n                                                 setFocused = () => {\r\n                                                 },\r\n                                                 onBlur = () => {\r\n                                                 },\r\n                                                 innerError = [],//метод чтобьы показывать ошибку, если ввели неверный формат даты\r\n                                                 setInnerError = () => {\r\n                                                 },//метод чтобьы показывать ошибку, если ввели неверный формат даты\r\n                                                 onChange = () => {\r\n                                                 },\r\n                                                 onClick = () => {\r\n                                                 },\r\n                                                 disabled = false,\r\n                                                 placeholder = '',\r\n                                                 className = '',\r\n                                                 style = {},\r\n                                                 id,\r\n                                                 name,\r\n                                                 value,\r\n                                                 autoComplete = 'off',\r\n                                                 error,\r\n                                                 defaultDate = null\r\n                                             }) => {\r\n    const {\r\n        handleFocus,\r\n        getName,\r\n    } = useBaseInput({\r\n        disabled,\r\n        name,\r\n        onClick,\r\n        onChange,\r\n        setFocused,\r\n        onBlur\r\n    })\r\n\r\n    const {componentsLoaded, DateInputComponent, flatpickrInstance} = useFlatpickrMount();\r\n\r\n    const {\r\n        date,\r\n        dateString,\r\n        handleDateChange,\r\n        handleInputChange,\r\n        handleBlur\r\n    } = useDateInput({\r\n        value,\r\n        onChange,\r\n        onBlur,\r\n        flatpickrInstance,\r\n        setFocused,\r\n        dateMask: '__.__.____',\r\n        dateFormat: 'DD.MM.YYYY',\r\n        formatDate,\r\n        setInnerError\r\n    });\r\n\r\n\r\n    const getOptions = () => {\r\n        let opts = {\r\n            dateFormat: 'd.m.Y',\r\n            allowInput: true,\r\n            disableMobile: 'true'\r\n        };\r\n        if (defaultDate) {\r\n            // @ts-ignore\r\n            opts.defaultDate = defaultDate;\r\n        }\r\n        return opts;\r\n    };\r\n\r\n    const inputClassName = useInputClassNames(className, focused, error, disabled, innerError);\r\n\r\n    if (!componentsLoaded || !DateInputComponent) return null;\r\n\r\n    if (disabled) {\r\n        return (\r\n            // @ts-ignore\r\n            <MaskedStyledInput\r\n                id={id}\r\n                mask=\"99.99.9999\"\r\n                value={dateString}\r\n                style={style}\r\n                className={inputClassName}\r\n                disabled\r\n                readOnly\r\n            >\r\n                {(inputProps: any) => <input {...inputProps} />}\r\n            </MaskedStyledInput>\r\n        );\r\n    }\r\n\r\n    return (\r\n        // @ts-ignore\r\n        <DateInputComponent\r\n            id={id}\r\n            style={style}\r\n            disabled={disabled}\r\n            value={date instanceof Date ? date : null}\r\n            valueString={dateString}\r\n            placeholder={placeholder}\r\n            autoComplete={autoComplete || 'off'}\r\n            options={getOptions()}\r\n            className={inputClassName}\r\n            onReady={(selectedDates: any, dateStr: string, fp: any) => {\r\n                flatpickrInstance.current = fp;\r\n                fp.calendarContainer.id = `${id}-container`;\r\n            }}\r\n            onChange={handleDateChange}\r\n            onOpen={handleFocus}\r\n            onClose={handleBlur}\r\n            // @ts-ignore\r\n            render={({id, ...restProps}, refEl: any) => {\r\n\r\n                // @ts-ignore\r\n                return <MaskedStyledInput\r\n                    autoComplete=\"off\"\r\n                    mask=\"99.99.9999\"\r\n                    name={getName(name)}\r\n                    id={id}\r\n                    value={restProps.valueString}\r\n                    onChange={handleInputChange}\r\n                    style={restProps.style}\r\n                    className={restProps.className}\r\n                    onFocus={handleFocus}\r\n                >\r\n                    {(inputProps: any) => <input ref={refEl} {...inputProps} />}\r\n                </MaskedStyledInput>\r\n            }}\r\n        />\r\n    );\r\n}\r\n\r\nDateInput.displayName = 'DateInput';\r\nexport default DateInput;\r\n"],"mappings":"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","ignoreList":[]}